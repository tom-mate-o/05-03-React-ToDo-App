{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport default function useLocalStorage(key, initialValue, countKey) {\n  _s();\n  const [todos, setTodos] = useState(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(key));\n    return storedTodos || initialValue;\n  });\n  const [count, setCount] = useState(() => {\n    const storedCount = JSON.parse(localStorage.getItem(countKey));\n    return storedCount !== null ? storedCount : todos.length;\n  });\n  const deleteTodoFromLocalStorage = todoToDelete => {\n    const updatedTodos = todos.filter(todo => todo !== todoToDelete);\n    setTodos(updatedTodos);\n    localStorage.setItem(key, JSON.stringify(updatedTodos));\n  };\n  useEffect(() => {\n    if (count < 20) {\n      localStorage.setItem(key, JSON.stringify(todos));\n      localStorage.setItem(countKey, JSON.stringify(count));\n    }\n  }, [key, todos, count, countKey]);\n\n  // Funktion zum Aktualisieren des count-Werts und Speichern im Local Storage\n  const updateCount = newCount => {\n    setCount(newCount);\n    localStorage.setItem(countKey, JSON.stringify(newCount));\n  };\n  return [todos, setTodos, count, deleteTodoFromLocalStorage, updateCount];\n}\n_s(useLocalStorage, \"nj21LCzD88G939OwTEYZCCFRs40=\");","map":{"version":3,"names":["useState","useEffect","useLocalStorage","key","initialValue","countKey","_s","todos","setTodos","storedTodos","JSON","parse","localStorage","getItem","count","setCount","storedCount","length","deleteTodoFromLocalStorage","todoToDelete","updatedTodos","filter","todo","setItem","stringify","updateCount","newCount"],"sources":["C:/Users/thoma/OneDrive/Dokumente/GitHub/_Fullstack-2023-2_meineProjekte/0503todoapp/src/components/customHooks/useLocalStorage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport default function useLocalStorage(key, initialValue, countKey) {\r\n  const [todos, setTodos] = useState(() => {\r\n    const storedTodos = JSON.parse(localStorage.getItem(key));\r\n    return storedTodos || initialValue;\r\n  });\r\n\r\n  const [count, setCount] = useState(() => {\r\n    const storedCount = JSON.parse(localStorage.getItem(countKey));\r\n    return storedCount !== null ? storedCount : todos.length;\r\n  });\r\n\r\n  const deleteTodoFromLocalStorage = (todoToDelete) => {\r\n    const updatedTodos = todos.filter((todo) => todo !== todoToDelete);\r\n    setTodos(updatedTodos);\r\n    localStorage.setItem(key, JSON.stringify(updatedTodos));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (count < 20) {\r\n      localStorage.setItem(key, JSON.stringify(todos));\r\n      localStorage.setItem(countKey, JSON.stringify(count));\r\n    }\r\n  }, [key, todos, count, countKey]);\r\n\r\n  // Funktion zum Aktualisieren des count-Werts und Speichern im Local Storage\r\n  const updateCount = (newCount) => {\r\n    setCount(newCount);\r\n    localStorage.setItem(countKey, JSON.stringify(newCount));\r\n  };\r\n\r\n  return [todos, setTodos, count, deleteTodoFromLocalStorage, updateCount];\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,eAAe,SAASC,eAAeA,CAACC,GAAG,EAAEC,YAAY,EAAEC,QAAQ,EAAE;EAAAC,EAAA;EACnE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,MAAM;IACvC,MAAMS,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACV,GAAG,CAAC,CAAC;IACzD,OAAOM,WAAW,IAAIL,YAAY;EACpC,CAAC,CAAC;EAEF,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,MAAM;IACvC,MAAMgB,WAAW,GAAGN,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACR,QAAQ,CAAC,CAAC;IAC9D,OAAOW,WAAW,KAAK,IAAI,GAAGA,WAAW,GAAGT,KAAK,CAACU,MAAM;EAC1D,CAAC,CAAC;EAEF,MAAMC,0BAA0B,GAAIC,YAAY,IAAK;IACnD,MAAMC,YAAY,GAAGb,KAAK,CAACc,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKH,YAAY,CAAC;IAClEX,QAAQ,CAACY,YAAY,CAAC;IACtBR,YAAY,CAACW,OAAO,CAACpB,GAAG,EAAEO,IAAI,CAACc,SAAS,CAACJ,YAAY,CAAC,CAAC;EACzD,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACd,IAAIa,KAAK,GAAG,EAAE,EAAE;MACdF,YAAY,CAACW,OAAO,CAACpB,GAAG,EAAEO,IAAI,CAACc,SAAS,CAACjB,KAAK,CAAC,CAAC;MAChDK,YAAY,CAACW,OAAO,CAAClB,QAAQ,EAAEK,IAAI,CAACc,SAAS,CAACV,KAAK,CAAC,CAAC;IACvD;EACF,CAAC,EAAE,CAACX,GAAG,EAAEI,KAAK,EAAEO,KAAK,EAAET,QAAQ,CAAC,CAAC;;EAEjC;EACA,MAAMoB,WAAW,GAAIC,QAAQ,IAAK;IAChCX,QAAQ,CAACW,QAAQ,CAAC;IAClBd,YAAY,CAACW,OAAO,CAAClB,QAAQ,EAAEK,IAAI,CAACc,SAAS,CAACE,QAAQ,CAAC,CAAC;EAC1D,CAAC;EAED,OAAO,CAACnB,KAAK,EAAEC,QAAQ,EAAEM,KAAK,EAAEI,0BAA0B,EAAEO,WAAW,CAAC;AAC1E;AAACnB,EAAA,CA/BuBJ,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}